<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover"/>
  <title>PƒÅ·∏∑i Script Converter</title>
  <meta name="theme-color" content="#f0e6d2">
  <meta name="twitter:image" content="https://tipitakapali.org/web/icons/tipitakapali.png" />
  <link rel="apple-touch-icon" sizes="180x180" href="web/icons/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="web/icons/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="web/icons/favicon-16x16.png" />
  <link rel="manifest" href="web/icons/site.webmanifest" />
  <link rel="mask-icon" href="web/icons/safari-pinned-tab.svg" color="#5bbad5" />
  <meta name="msapplication-TileColor" content="#da532c" />
  <!-- ends icons 05 Feb 2021 -->
  <style>
    :root {
      --safe-area-inset-top: env(safe-area-inset-top, 25px);
      --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);
      --safe-area-inset-left: env(safe-area-inset-left, 0px);
      --safe-area-inset-right: env(safe-area-inset-right, 0px);
      }
    
    /* Global Styles */
    html {
      font-size: 16px;
    }

    body {
      padding: calc(var(--safe-area-inset-top) + 20px) calc(var(--safe-area-inset-right) + 10px) calc(var(--safe-area-inset-bottom) + 10px) calc(var(--safe-area-inset-left) + 10px);

      background: #f0e6d2;
      font-family: 'Noto Sans', sans-serif;
      line-height: 1.6;
      color: #333;
    }

    /* Links */
    a {
      text-decoration: none;
      color: #4a6da7;
      transition: color 0.3s ease;
    }

    a:hover {
      color: #2c4a7c;
    }

    /* Form Styles */
    .uForm {
      margin: 0 auto;
      max-width: 800px;
      background: #fff;
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .help {
      background: #f0e6d2;
      text-align: center;
    }


    #uType:focus,
    #convertedArea:focus {
      outline: none;
      border-color: #4a6da7;
    }

    /* Buttons */
    #clearText,
    #copyButtonID,
    #changeM,
    #aboveM {
      display: inline-block;
      padding: 5px 5px;
      border: none;
      border-radius: 5px;
      font-size: 1rem;
      cursor: pointer;
      transition: background-color 0.3s ease, color 0.3s ease;
    }

    #clearText {
      background-color: #f44336;
      color: white;
    }

    #clearText:hover {
      background-color: #d32f2f;
    }

    #copyButtonID {
      background-color: #4caf50;
      color: white;
    }

    #copyButtonID:hover {
      background-color: #45a049;
    }

    #changeM {
      background-color: gray;
      color: yellow;
    }

    #changeM,
    #aboveM {
      background-color: rgb(15, 3, 112);
      color: rgb(78, 236, 4);
      font-size: 1.5rem;
    }

    #copyStatus {
      color: white;
    }

    /* Select Styles */
    #uSelectScript,
    #uType,
    #convertedArea {
      width: 100%;
      padding: 5px;
      margin-bottom: 5px;
      border: 1px solid #ccc;
      border-radius: 5px;
      font-size: 1rem;
      background-color: #fff;
    }

    #uType,
    #convertedArea {
      font-size: 1.5rem;
      color: rgb(79, 12, 12);
      font-weight: bolder;
      transition: border-color 0.3s ease;
    }

    /* Loader */
    .dhammaWheelLoader {
      display: flex;
      justify-content: center;
      align-items: center;
      margin-bottom: 5px;
    }

    .wheelLoader {
      width: 50px;
      height: 50px;
      color: #854f1d;
      background:
        conic-gradient(from 90deg at 4px 4px, transparent 90deg, currentColor 0) -4px -4px / calc(50% + 2px) calc(50% + 2px),
        radial-gradient(farthest-side, currentColor 6px, transparent 7px calc(100% - 6px), currentColor calc(100% - 5px)) no-repeat;
      border-radius: 50%;
      animation: spin 2s infinite linear;
    }

    .wheelLoader::before {
      content: "";
      position: absolute;
      inset: 0;
      border-radius: inherit;
      background: inherit;
      transform: rotate(45deg);
    }

    @keyframes spin {
      to {
        transform: rotate(0.5turn);
      }
    }


    /* Responsive Design */
    @media (max-width: 768px) {
      #uForm {
        padding: 10px;
      }

      #uType,
      #convertedArea {
        font-size: 1rem;
      }
    }

    .tCenter {
      margin: 0 auto;
    }


  #gobackFromSearch {
        position: absolute;
        top: 0;
        left: max(calc(var(--safe-area-inset-left) + 30px), 0);
        /* Prevents the button from overflowing the 80% body width */
        max-width: 100%;
        padding-top: calc(var(--safe-area-inset-top) + 30px);
        z-index: 1000;
  }
  </style>
</head>

<body>
  <div class="dhammaWheelLoader">
    <div class="wheelLoader"></div>
  </div>
  

  <div id="gobackFromSearch" style="position: absolute;">
    <button class="smallButton" id="goBackButton" onclick="window.history.back()">
      <img width="16" height="16" src="web/icons/toplogo.webp" alt="Go back" /> Go back
    </button>
  </div>
  <div class="uForm">
    <form name="mainForm" id="mainForm" method="POST" action="" enctype="multipart/form-data" style="padding: 5px">
      <b>PƒÅ·∏∑i Script Converter</b>

      <p id="buildPaliScriptMenu"></p>

      <textarea required rows="2" id="uType" name="uType" placeholder="Accepts 17 mixed scripts input"></textarea>

      <br><span id="clearText">Clear Text</span><br><br>

      <textarea rows="2" id="convertedArea" name="convertedArea" placeholder="output"></textarea>

      <br><span id="copyButtonID">Copy:
        <span id="copyStatus"></span><span id="copyIcon">üìã</span></span>
      <br>
       <br>Click to use Roman <span id="changeM">  ·πÉ  </span> OR <span id="aboveM">  ·πÅ  </span>
      <br>

    </form>
  </div>

  <br>
  <div class="help">
     <button class="smallButton" onclick="window.history.back()">
      <img width="16" height="16" src="web/icons/toplogo.webp" alt="Go back" /> Go back
    </button> | 
    <span><a href="https://tipitakapali.org/pali-script-converter.zip" style="text-decoration:none; color: green;">[Download this tool ~ 12 KB]</a></span>
  </div>
  <div class="help">
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <table class="tCenter">
      <tr>
        <th colspan="8">Latin Velthuis scheme (modified):</th>
      </tr>
      <tr>
        <td colspan="8">Type & get, example: aa => ƒÅ</td>
      </tr>
      <tr>
        <td class="tCenter">aa</td>
        <td class="tCenter">ƒÅ</td>
        <td class="tCenter">ii</td>
        <td class="tCenter">ƒ´</td>
        <td class="tCenter">uu</td>
        <td class="tCenter">≈´</td>
        <td class="tCenter">m..</td>
        <td class="tCenter">·πÅ</td>
      </tr>
      <tr>
        <td class="tCenter">.m</td>
        <td class="tCenter">·πÉ</td>
        <td class="tCenter">.n</td>
        <td class="tCenter">·πá</td>
        <td class="tCenter">.d</td>
        <td class="tCenter">·∏ç</td>
        <td class="tCenter">.l</td>
        <td class="tCenter">·∏∑</td>
      </tr>
      <tr>
        <td class="tCenter">.r</td>
        <td class="tCenter">·πõ</td>
        <td class="tCenter">.s</td>
        <td class="tCenter">·π£</td>
        <td class="tCenter">s..</td>
        <td class="tCenter">≈õ</td>
        <td class="tCenter">.t</td>
        <td class="tCenter">·π≠</td>
      </tr>
      <tr>
        <td class="tCenter">,,n</td>
        <td class="tCenter">√±</td>
        <td class="tCenter">n..</td>
        <td class="tCenter">·πÖ</td>
      </tr>
    </table>
  </div>

  <p class="center" style="text-align: center;">
    <br>

    <b>Attributions</b>: <a style="text-decoration: none;" target="_blank"
      href="https://github.com/Path-Nirvana-Foundation/pali-script-converter">1. pali-script-converter</a>
    <br><br>
  </p>
  </div>
  <br>

  <script>
/**
 * https://tipitakapali.org/pali-script-converter.html
 * 
 * Pali Script Convert is adapted from 
 * https://github.com/Path-Nirvana-Foundation/pali-script-converter
 * /



/**
 * https://github.com/Path-Nirvana-Foundation/pali-script-converter
 
 * Copyright Path Nirvana 2018
 * The code and character mapping defined in this file can not be used for any commercial purposes.
 * Permission from the auther is required for all other purposes.
 */
 
const CVT = (function(){return(()=>{"use strict";var e={384:(e,r,n)=>{var a,t,o,l,c;function u(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function i(e,r){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,r){if(e){if("string"==typeof e)return g(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,r):void 0}}(e))||r&&e&&"number"==typeof e.length){n&&(e=n);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function g(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}n.d(r,{default:()=>k});var p=Object.freeze({SI:"Sinh",HI:"Deva",RO:"Latn",THAI:"Thai",LAOS:"Laoo",MY:"Mymr",KM:"Khmr",BENG:"Beng",GURM:"Guru",THAM:"Lana",GUJA:"Gujr",TELU:"Telu",KANN:"Knda",MALA:"Mlym",BRAH:"Brah",TIBT:"Tibt",CYRL:"Cyrl"}),f=new Map([[p.SI,["Sinhala","‡∑É‡∑í‡∂Ç‡∑Ñ‡∂Ω",[[3456,3583]],{f:"sl_flag.png",locale:"si",localeName:"‡∑É‡∑í‡∂Ç‡∑Ñ‡∂Ω"}]],[p.HI,["Devanagari","‡§®‡§æ‡§ó‡§∞‡•Ä",[[2304,2431]],{f:"in_flag.png",locale:"hi",localeName:"‡§π‡§ø‡§®‡•ç‡§¶‡•Ä"}]],[p.RO,["Roman","Roman",[[0,383],[7680,7935]],{f:"uk_flag.png",locale:"en",localeName:"English"}]],[p.THAI,["Thai","‡πÑ‡∏ó‡∏¢",[[3584,3711],63247,63232],{f:"th_flag.png",locale:"th",localeName:"‡πÑ‡∏ó‡∏¢"}]],[p.LAOS,["Laos","‡∫•‡∫≤‡∫ß",[[3712,3839]],{f:"laos_flag.png",locale:"lo",localeName:"‡∫•‡∫≤‡∫ß"}]],[p.MY,["Myanmar","·Äó·Äô·Ä¨·ÄÖ·Ä¨",[[4096,4223]],{f:"my_flag.png",locale:"my",localeName:"·Äó·Äô·Ä¨·ÄÖ·Ä¨"}]],[p.KM,["Khmer","·ûó·û∂·ûü·û∂·ûÅ·üí·ûò·üÇ·ûö",[[6016,6143]],{f:"kh_flag.png",locale:"km",localeName:"·ûó·û∂·ûü·û∂·ûÅ·üí·ûò·üÇ·ûö"}]],[p.BENG,["Bengali","‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ",[[2432,2559]],{f:"bangla_flag.png",locale:"bn",localeName:"‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ",g:"indian"}]],[p.GURM,["Gurmukhi","‡®ó‡©Å‡®∞‡®Æ‡©Å‡®ñ‡©Ä",[[2560,2687]],{locale:"pa",localeName:"‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä",g:"indian"}]],[p.GUJA,["Gujarati","‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä",[[2688,2815]],{locale:"gu",localeName:"‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä",g:"indian"}]],[p.TELU,["Telugu","‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å",[[3072,3199]],{locale:"te",localeName:"‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å",g:"indian"}]],[p.KANN,["Kannada","‡≤ï‡≤®‡≥ç‡≤®‡≤°",[[3200,3327]],{locale:"kn",localeName:"‡≤ï‡≤®‡≥ç‡≤®‡≤°",g:"indian"}]],[p.MALA,["Malayalam","‡¥Æ‡¥≤‡¥Ø‡¥æ‡¥≥‡¥Ç",[[3328,3455]],{locale:"ml",localeName:"‡¥Æ‡¥≤‡¥Ø‡¥æ‡¥≥‡¥Ç",g:"indian"}]],[p.THAM,["Tai Tham","Tai Tham LN",[[6688,6831]],{locale:"th",localeName:"‡πÑ‡∏ó‡∏¢ (Lanna)",c:"beta-script",g:"other"}]],[p.BRAH,["Brahmi","BrƒÅhmƒ´",[[55300,55300],[56320,56447]],{locale:"hi",localeName:"‡§π‡§ø‡§®‡•ç‡§¶‡•Ä (Brah)",g:"other"}]],[p.TIBT,["Tibetan","‡Ωñ‡Ωº‡Ωë‡ºã‡Ω¶‡æê‡Ωë‡ºç",[[3840,4095]],{f:"tibet_flag.png",c:"larger",locale:"bo",localeName:"‡Ωñ‡Ωº‡Ωë‡ºã‡Ω¶‡æê‡Ωë‡ºç",g:"other"}]],[p.CYRL,["Cyrillic","–∫–∏—Ä–∏–ª–ª–∏—Ü–∞",[[1024,1279],[768,879]],{f:"russia_flag.png",locale:"ru",localeName:"—Ä—ÉÃÅ—Å—Å–∫–∏–π",g:"other"}]]]);function h(e){for(var r,n=i(f);!(r=n()).done;)for(var a,t=r.value,o=i(t[1][2]);!(a=o()).done;){var l=a.value;if(Array.isArray(l)&&e>=l[0]&&e<=l[1])return t[0];if(Number.isInteger(l)&&e===l)return t[0]}return-1}var v=((a={})[p.SI]=0,a[p.HI]=1,a[p.RO]=2,a[p.THAI]=3,a[p.LAOS]=4,a[p.MY]=5,a[p.KM]=6,a[p.BENG]=7,a[p.GURM]=8,a[p.THAM]=9,a[p.GUJA]=10,a[p.TELU]=11,a[p.KANN]=12,a[p.MALA]=13,a[p.BRAH]=14,a[p.TIBT]=15,a[p.CYRL]=16,a),s=[["‡∂Ö","‡§Ö","a","‡∏≠","‡∫≠","·Ä°","·û¢","‡¶Ö","‡®Ö","·©ã","‡™Ö","‡∞Ö","‡≤Ö","‡¥Ö","ëÄÖ","‡Ω®","–∞"],["‡∂Ü","‡§Ü","ƒÅ","‡∏≠‡∏≤","‡∫≠‡∫≤","·Ä°·Ä¨","·û¢·û∂","‡¶Ü","‡®Ü","·©å","‡™Ü","‡∞Ü","‡≤Ü","‡¥Ü","ëÄÜ","‡Ω®‡Ω±","–∞ÃÑ"],["‡∂â","‡§á","i","‡∏≠‡∏¥","‡∫≠‡∫¥","·Ä£","·û•","‡¶á","‡®á","·©ç","‡™á","‡∞á","‡≤á","‡¥á","ëÄá","‡Ω®‡Ω≤","–∏"],["‡∂ä","‡§à","ƒ´","‡∏≠‡∏µ","‡∫≠‡∫µ","·Ä§","·û¶","‡¶à","‡®à","·©é","‡™à","‡∞à","‡≤à","‡¥à","ëÄà","‡Ω®‡Ω±‡Ω≤","–∏ÃÑ"],["‡∂ã","‡§â","u","‡∏≠‡∏∏","‡∫≠‡∫∏","·Ä•","·ûß","‡¶â","‡®â","·©è","‡™â","‡∞â","‡≤â","‡¥â","ëÄâ","‡Ω®‡Ω¥","—É"],["‡∂å","‡§ä","≈´","‡∏≠‡∏π","‡∫≠‡∫π","·Ä¶","·û©","‡¶ä","‡®ä","·©ê","‡™ä","‡∞ä","‡≤ä","‡¥ä","ëÄä","‡Ω®‡Ω±‡Ω¥","—ÉÃÑ"],["‡∂ë","‡§è","e","‡∏≠‡πÄ","‡∫≠‡ªÄ","·Äß","·ûØ","‡¶è","‡®è","·©ë","‡™è","‡∞è","‡≤è","‡¥è","ëÄè","‡Ω®‡Ω∫","–µ"],["‡∂î","‡§ì","o","‡∏≠‡πÇ","‡∫≠‡ªÇ","·Ä©","·û±","‡¶ì","‡®ì","·©í","‡™ì","‡∞ì","‡≤ì","‡¥ì","ëÄë","‡Ω®‡Ωº","–æ"],["‡∂Ç","‡§Ç","·πÉ","‡πç","‡ªç","·Ä∂","·üÜ","‡¶Ç","‡®Ç","·©¥","‡™Ç","‡∞Ç","‡≤Ç","‡¥Ç","ëÄÅ","‡Ωæ","–ºÃ£"],["‡∂É","‡§É","·∏•","‡∏∞","‡∫∞","·Ä∏","·üá","‡¶É","‡®É","·©°","‡™É","‡∞É","‡≤É","‡¥É","ëÄÇ","‡Ωø","—ÖÃ£"],["‡∑ä","‡•ç","","‡∏∫","‡∫∫","·Äπ","·üí","‡ßç","‡©ç","·©†","‡´ç","‡±ç","‡≥ç","‡µç","ëÅÜ","‡æÑ",""],["0","‡•¶","0","‡πê","‡ªê","·ÅÄ","·ü†","‡ß¶","‡©¶","·™ê","‡´¶","‡±¶","‡≥¶","‡µ¶","ëÅ¶","‡º†","0"],["1","‡•ß","1","‡πë","‡ªë","·ÅÅ","·ü°","‡ßß","‡©ß","·™ë","‡´ß","‡±ß","‡≥ß","‡µß","ëÅß","‡º°","1"],["2","‡•®","2","‡πí","‡ªí","·ÅÇ","·ü¢","‡ß®","‡©®","·™í","‡´®","‡±®","‡≥®","‡µ®","ëÅ®","‡º¢","2"],["3","‡•©","3","‡πì","‡ªì","·ÅÉ","·ü£","‡ß©","‡©©","·™ì","‡´©","‡±©","‡≥©","‡µ©","ëÅ©","‡º£","3"],["4","‡•™","4","‡πî","‡ªî","·ÅÑ","·ü§","‡ß™","‡©™","·™î","‡´™","‡±™","‡≥™","‡µ™","ëÅ™","‡º§","4"],["5","‡•´","5","‡πï","‡ªï","·ÅÖ","·ü•","‡ß´","‡©´","·™ï","‡´´","‡±´","‡≥´","‡µ´","ëÅ´","‡º•","5"],["6","‡•¨","6","‡πñ","‡ªñ","·ÅÜ","·ü¶","‡ß¨","‡©¨","·™ñ","‡´¨","‡±¨","‡≥¨","‡µ¨","ëÅ¨","‡º¶","6"],["7","‡•≠","7","‡πó","‡ªó","·Åá","·üß","‡ß≠","‡©≠","·™ó","‡´≠","‡±≠","‡≥≠","‡µ≠","ëÅ≠","‡ºß","7"],["8","‡•Æ","8","‡πò","‡ªò","·Åà","·ü®","‡ßÆ","‡©Æ","·™ò","‡´Æ","‡±Æ","‡≥Æ","‡µÆ","ëÅÆ","‡º®","8"],["9","‡•Ø","9","‡πô","‡ªô","·Åâ","·ü©","‡ßØ","‡©Ø","·™ô","‡´Ø","‡±Ø","‡≥Ø","‡µØ","ëÅØ","‡º©","9"]],m=[["‡∂ö","‡§ï","k","‡∏Å","‡∫Å","·ÄÄ","·ûÄ","‡¶ï","‡®ï","·®†","‡™ï","‡∞ï","‡≤ï","‡¥ï","ëÄì","‡ΩÄ","–∫"],["‡∂õ","‡§ñ","kh","‡∏Ç","‡∫Ç","·ÄÅ","·ûÅ","‡¶ñ","‡®ñ","·®°","‡™ñ","‡∞ñ","‡≤ñ","‡¥ñ","ëÄî","‡ΩÅ","–∫—Ö"],["‡∂ú","‡§ó","g","‡∏Ñ","‡∫Ñ","·ÄÇ","·ûÇ","‡¶ó","‡®ó","·®£","‡™ó","‡∞ó","‡≤ó","‡¥ó","ëÄï","‡ΩÇ","–≥"],["‡∂ù","‡§ò","gh","‡∏Ü","‡∫Ü","·ÄÉ","·ûÉ","‡¶ò","‡®ò","·®•","‡™ò","‡∞ò","‡≤ò","‡¥ò","ëÄñ","‡ΩÉ","–≥—Ö"],["‡∂û","‡§ô","·πÖ","‡∏á","‡∫á","·ÄÑ","·ûÑ","‡¶ô","‡®ô","·®¶","‡™ô","‡∞ô","‡≤ô","‡¥ô","ëÄó","‡ΩÑ","–ΩÃá"],["‡∂†","‡§ö","c","‡∏à","‡∫à","·ÄÖ","·ûÖ","‡¶ö","‡®ö","·®ß","‡™ö","‡∞ö","‡≤ö","‡¥ö","ëÄò","‡Ωô","—á"],["‡∂°","‡§õ","ch","‡∏â","‡∫â","·ÄÜ","·ûÜ","‡¶õ","‡®õ","·®®","‡™õ","‡∞õ","‡≤õ","‡¥õ","ëÄô","‡Ωö","—á—Ö"],["‡∂¢","‡§ú","j","‡∏ä","‡∫ä","·Äá","·ûá","‡¶ú","‡®ú","·®©","‡™ú","‡∞ú","‡≤ú","‡¥ú","ëÄö","‡Ωõ","–¥–∂"],["‡∂£","‡§ù","jh","‡∏å","‡∫å","·Äà","·ûà","‡¶ù","‡®ù","·®´","‡™ù","‡∞ù","‡≤ù","‡¥ù","ëÄõ","‡Ωú","–¥–∂—Ö"],["‡∂§","‡§û","√±","‡∏ç","‡∫é","·Äâ","·ûâ","‡¶û","‡®û","·®¨","‡™û","‡∞û","‡≤û","‡¥û","ëÄú","‡Ωâ","–ΩÃÉ"],["‡∂ß","‡§ü","·π≠","‡∏è","‡∫è","·Äã","·ûä","‡¶ü","‡®ü","·®≠","‡™ü","‡∞ü","‡≤ü","‡¥ü","ëÄù","‡Ωä","—ÇÃ£"],["‡∂®","‡§†","·π≠h","‡∏ê","‡∫ê","·Äå","·ûã","‡¶†","‡®†","·®Æ","‡™†","‡∞†","‡≤†","‡¥†","ëÄû","‡Ωã","—ÇÃ£—Ö"],["‡∂©","‡§°","·∏ç","‡∏ë","‡∫ë","·Äç","·ûå","‡¶°","‡®°","·®Ø","‡™°","‡∞°","‡≤°","‡¥°","ëÄü","‡Ωå","–¥Ã£"],["‡∂™","‡§¢","·∏çh","‡∏í","‡∫í","·Äé","·ûç","‡¶¢","‡®¢","·®∞","‡™¢","‡∞¢","‡≤¢","‡¥¢","ëÄ†","‡Ωç","–¥Ã£—Ö"],["‡∂´","‡§£","·πá","‡∏ì","‡∫ì","·Äè","·ûé","‡¶£","‡®£","·®±","‡™£","‡∞£","‡≤£","‡¥£","ëÄ°","‡Ωé","–ΩÃ£"],["‡∂≠","‡§§","t","‡∏ï","‡∫ï","·Äê","·ûè","‡¶§","‡®§","·®≤","‡™§","‡∞§","‡≤§","‡¥§","ëÄ¢","‡Ωè","—Ç"],["‡∂Æ","‡§•","th","‡∏ñ","‡∫ñ","·Äë","·ûê","‡¶•","‡®•","·®≥","‡™•","‡∞•","‡≤•","‡¥•","ëÄ£","‡Ωê","—Ç—Ö"],["‡∂Ø","‡§¶","d","‡∏ó","‡∫ó","·Äí","·ûë","‡¶¶","‡®¶","·®¥","‡™¶","‡∞¶","‡≤¶","‡¥¶","ëÄ§","‡Ωë","–¥"],["‡∂∞","‡§ß","dh","‡∏ò","‡∫ò","·Äì","·ûí","‡¶ß","‡®ß","·®µ","‡™ß","‡∞ß","‡≤ß","‡¥ß","ëÄ•","‡Ωí","–¥—Ö"],["‡∂±","‡§®","n","‡∏ô","‡∫ô","·Äî","·ûì","‡¶®","‡®®","·®∂","‡™®","‡∞®","‡≤®","‡¥®","ëÄ¶","‡Ωì","–Ω"],["‡∂¥","‡§™","p","‡∏õ","‡∫õ","·Äï","·ûî","‡¶™","‡®™","·®∏","‡™™","‡∞™","‡≤™","‡¥™","ëÄß","‡Ωî","–ø"],["‡∂µ","‡§´","ph","‡∏ú","‡∫ú","·Äñ","·ûï","‡¶´","‡®´","·®π","‡™´","‡∞´","‡≤´","‡¥´","ëÄ®","‡Ωï","–ø—Ö"],["‡∂∂","‡§¨","b","‡∏û","‡∫û","·Äó","·ûñ","‡¶¨","‡®¨","·®ª","‡™¨","‡∞¨","‡≤¨","‡¥¨","ëÄ©","‡Ωñ","–±"],["‡∂∑","‡§≠","bh","‡∏†","‡∫†","·Äò","·ûó","‡¶≠","‡®≠","·®Ω","‡™≠","‡∞≠","‡≤≠","‡¥≠","ëÄ™","‡Ωó","–±—Ö"],["‡∂∏","‡§Æ","m","‡∏°","‡∫°","·Äô","·ûò","‡¶Æ","‡®Æ","·®æ","‡™Æ","‡∞Æ","‡≤Æ","‡¥Æ","ëÄ´","‡Ωò","–º"],["‡∂∫","‡§Ø","y","‡∏¢","‡∫ç","·Äö","·ûô","‡¶Ø","‡®Ø","·®ø","‡™Ø","‡∞Ø","‡≤Ø","‡¥Ø","ëÄ¨","‡Ω°","–π"],["‡∂ª","‡§∞","r","‡∏£","‡∫£","·Äõ","·ûö","‡¶∞","‡®∞","·©Å","‡™∞","‡∞∞","‡≤∞","‡¥∞","ëÄ≠","‡Ω¢","—Ä"],["‡∂Ω","‡§≤","l","‡∏•","‡∫•","·Äú","·ûõ","‡¶≤","‡®≤","·©É","‡™≤","‡∞≤","‡≤≤","‡¥≤","ëÄÆ","‡Ω£","–ª"],["‡∑Ö","‡§≥","·∏∑","‡∏¨","‡∫¨","·Ä†","·û°","‡¶≤‡¶º","‡®≥","·©ä","‡™≥","‡∞≥","‡≤≥","‡¥≥","ëÄ¥","‡Ω£‡ºπ","–ªÃ£"],["‡∑Ä","‡§µ","v","‡∏ß","‡∫ß","·Äù","·ûú","‡ß∞","‡®µ","·©Ö","‡™µ","‡∞µ","‡≤µ","‡¥µ","ëÄØ","‡Ωù","–≤"],["‡∑É","‡§∏","s","‡∏™","‡∫™","·Äû","·ûü","‡¶∏","‡®∏","·©à","‡™∏","‡∞∏","‡≤∏","‡¥∏","ëÄ≤","‡Ω¶","—Å"],["‡∑Ñ","‡§π","h","‡∏´","‡∫´","·Äü","·û†","‡¶π","‡®π","·©â","‡™π","‡∞π","‡≤π","‡¥π","ëÄ≥","‡Ωß","—Ö"]],A=[["‡∑è","‡§æ","ƒÅ","‡∏≤","‡∫≤","·Ä¨","·û∂","‡¶æ","‡®æ","·©£","‡™æ","‡∞æ","‡≤æ","‡¥æ","ëÄ∏","‡Ω±","–∞ÃÑ"],["‡∑í","‡§ø","i","‡∏¥","‡∫¥","·Ä≠","·û∑","‡¶ø","‡®ø","·©•","‡™ø","‡∞ø","‡≤ø","‡¥ø","ëÄ∫","‡Ω≤","–∏"],["‡∑ì","‡•Ä","ƒ´","‡∏µ","‡∫µ","·ÄÆ","·û∏","‡ßÄ","‡©Ä","·©¶","‡´Ä","‡±Ä","‡≥Ä","‡µÄ","ëÄª","‡Ω±‡Ω≤","–∏ÃÑ"],["‡∑î","‡•Å","u","‡∏∏","‡∫∏","·ÄØ","·ûª","‡ßÅ","‡©Å","·©©","‡´Å","‡±Å","‡≥Å","‡µÅ","ëÄº","‡Ω¥","—É"],["‡∑ñ","‡•Ç","≈´","‡∏π","‡∫π","·Ä∞","·ûº","‡ßÇ","‡©Ç","·©™","‡´Ç","‡±Ç","‡≥Ç","‡µÇ","ëÄΩ","‡Ω±‡Ω¥","—ÉÃÑ"],["‡∑ô","‡•á","e","‡πÄ","‡ªÄ","·Ä±","·üÅ","‡ßá","‡©á","·©Æ","‡´á","‡±á","‡≥á","‡µá","ëÅÇ","‡Ω∫","–µ"],["‡∑ú","‡•ã","o","‡πÇ","‡ªÇ","·Ä±·Ä¨","·üÑ","‡ßã","‡©ã","·©Æ·©£","‡´ã","‡±ã","‡≥ã","‡µã","ëÅÑ","‡Ωº","–æ"]];function d(e,r,n){void 0===n&&(n="");var a=e;return"cen"===n?a=a.replace(/‡••/g,""):n.startsWith("ga")&&(a=(a=a.replace(/‡•§/g,";")).replace(/‡••/g,".")),(a=(a=(a=a.replace(/‡•∞‚Ä¶/g,"‚Ä¶")).replace(/‡•∞/g,"¬∑")).replace(/[‡•§‡••]/g,".")).replace(/\s([\s,!;\?\.])/g,"$1")}function y(e,r,n){if(void 0===n&&(n=""),r===p.THAI)return e.replace(/([‡∏Å-‡∏Æ])([‡πÄ‡πÇ])/g,"$2$1");if(r===p.LAOS)return e.replace(/([‡∫Å-‡∫Æ])([‡ªÄ‡ªÇ])/g,"$2$1");throw new Error("Unsupported script "+r+" for swap_e_o method.")}function S(e,r){if(r===p.THAI)return e.replace(/([‡πÄ‡πÇ])([‡∏Å-‡∏Æ])/g,"$2$1");if(r===p.LAOS)return e.replace(/([‡ªÄ‡ªÇ])([‡∫Å-‡∫Æ])/g,"$2$1");throw new Error("Unsupported script "+r+" for un_swap_e_o method.")}function T(e){return e.replace(/\u200C|\u200D/g,"")}var b=[],I=((t={})[p.SI]=[function(e,r,n){return void 0===n&&(n=""),e.replace(/\u0DCA([\u0DBA\u0DBB])/g,"\u0DCA\u200D$1")},d],t[p.RO]=[d],t[p.THAI]=[y,function(e,r){return e.replace(/\u0E34\u0E4D/g,"‡∏∂").replace(/‡∏ç/g,"Ôúè").replace(/‡∏ê/g,"ÔúÄ")},d],t[p.LAOS]=[y,d],t[p.MY]=[function(e,r,n){void 0===n&&(n="");return e.replace(/[,;]/g,"·Åä").replace(/[\u0964\u0965]+/g,"·Åã")/*pnry modified*/.replace(/\./g, '·Åã').replace(/·Äâ\u1039·Äâ/g,"·Ää").replace(/·Äû\u1039·Äû/g,"·Äø").replace(/·ÄÑ·Äπ([·ÄÄ-·Ä†])/g,"·ÄÑ·Ä∫·Äπ$1").replace(/·Äπ·Äö/g,"·Äª").replace(/·Äπ·Äõ/g,"·Äº").replace(/·Äπ·Äù/g,"·ÄΩ").replace(/·Äπ·Äü/g,"·Äæ").replace(/([·ÄÅ·ÄÇ·ÄÑ·Äí·Äï·Äù]·Ä±?)\u102c/g,"$1·Ä´").replace(/(·ÄÄ·Äπ·ÄÅ|·Äî·Äπ·Äí|·Äï·Äπ·Äï|·Äô·Äπ·Äï)(·Ä±?)\u102b/g,"$1$2·Ä¨").replace(/(·Äí·Äπ·Äì|·Äí·ÄΩ)(·Ä±?)\u102c/g,"$1·Ä´")},d],t[p.KM]=[d],t[p.THAM]=[function(e){return e.replace(/\u1A60\u1A41/g,"·©ï").replace(/\u1A48\u1A60\u1A48/g,"·©î").replace(/‡•§/g,"·™®").replace(/‡••/g,"·™©")}],t[p.GUJA]=[d],t[p.TELU]=[d],t[p.MALA]=[d],t[p.BRAH]=[function(e){return e.replace(/‡•§/g,"ëÅá").replace(/‡••/g,"ëÅà").replace(/‚Äì/g,"ëÅã")},d],t[p.TIBT]=[function(e){var r=e;r=(r=r.replace(/‡•§/g,"‡ºç")).replace(/‡••/g,"‡ºé");for(var n=0;n<=39;n+=1)r=r.replace(new RegExp(String.fromCharCode(3972,3904+n),"g"),String.fromCharCode(3984+n));return(r=(r=(r=(r=r.replace(/\u0F61\u0FB1/g,"‡Ω°‡æª")).replace(/\u0F5D\u0FAD/g,"‡Ωù‡æ∫")).replace(/\u0F5B\u0FAC/g,"‡Ωõ‡æÑ‡Ωú")).replace(/\u0F61\u0FB7/g,"‡Ω°‡æÑ‡Ωß")).replace(/\u0F5D\u0FB7/g,"‡Ωù‡æÑ‡Ωß")}],t[p.CYRL]=[d],t),L=[],N=((o={})[p.SI]=[T,function(e){return e.replace(/‡∂í/g,"‡∂ë").replace(/‡∂ï/g,"‡∂î").replace(/‡∑ö/g,"‡∑ô").replace(/‡∑ù/g,"‡∑ú")}],o[p.HI]=[T],o[p.RO]=[function(e){return e.toLowerCase()}],o[p.THAI]=[function(e,r){return e.replace(/‡∏é/g,"‡∏è").replace(/\u0E36/g,"‡∏¥‡πç").replace(/\uF70F/g,"‡∏ç").replace(/\uF700/g,"‡∏ê")},S],o[p.LAOS]=[S],o[p.KM]=[function(e,r){return e.replace(/\u17B9/g,"·û∑·üÜ").replace(/\u17D1/g,"·üí")}],o[p.MY]=[function(e){return e.replace(/\u102B/g,"·Ä¨").replace(/·Äæ/g,"·Äπ·Äü").replace(/·ÄΩ/g,"·Äπ·Äù").replace(/·Äº/g,"·Äπ·Äõ").replace(/·Äª/g,"·Äπ·Äö").replace(/\u103A/g,"").replace(/·Äø/g,"·Äû·Äπ·Äû").replace(/·Ää/g,"·Äâ·Äπ·Äâ").replace(/·Äû·Ä∂·ÄÉ/g,"·Äû·ÄÑ·Äπ·ÄÉ").replace(/·Åä/g,",").replace(/·Åã/g,".")}],o[p.TIBT]=[function(e){return e}],o);function M(e,r,n){void 0===n&&(n=!0);var a=m.concat(s,n?A:[]),t=[[],[],[]];return a.forEach((function(n){n[e]&&t[n[e].length-1].push([n[e],n[r]])})),t.filter((function(e){return e.length})).map((function(e){return[e[0][0].length,new Map(e)]})).reverse()}function $(e,r){for(var n=[],a=0;a<e.length;){for(var t,o=!1,l=i(r);!(t=l()).done;){var c=t.value,u=c[0],g=c[1],p=e.substr(a,u);if(g.has(p)){n.push(g.get(p)),o=!0,a+=u;break}}o||(n.push(e.charAt(a)),a+=1)}return n.join("")}function B(e,r){var n=r===p.CYRL?"–∞":"a";return e.replace(new RegExp("([‡∂ö-‡∑Ü])([^‡∑è-‡∑ü‡∑ä"+n+"])","g"),"$1"+n+"$2").replace(new RegExp("([‡∂ö-‡∑Ü])([^‡∑è-‡∑ü‡∑ä"+n+"])","g"),"$1"+n+"$2").replace(/([‡∂ö-‡∑Ü])$/g,"$1"+n)}var C={‡∂Ö:"",‡∂Ü:"‡∑è",‡∂â:"‡∑í",‡∂ä:"‡∑ì",‡∂ã:"‡∑î",‡∂å:"‡∑ñ",‡∂ë:"‡∑ô",‡∂î:"‡∑ú"};function R(e,r){var n=e;return(n=(n=(n=n.replace(/([‡∂ö-‡∑Ü])([^‡∂Ö‡∂Ü‡∂â‡∂ä‡∂ã‡∂å‡∂ë‡∂î\u0DCA])/g,"$1‡∑ä$2")).replace(/([‡∂ö-‡∑Ü])([^‡∂Ö‡∂Ü‡∂â‡∂ä‡∂ã‡∂å‡∂ë‡∂î\u0DCA])/g,"$1‡∑ä$2")).replace(/([‡∂ö-‡∑Ü])$/g,"$1‡∑ä")).replace(/([‡∂ö-‡∑Ü])([‡∂Ö‡∂Ü‡∂â‡∂ä‡∂ã‡∂å‡∂ë‡∂î])/g,(function(e,r,n){return r+C[n]}))}function E(e,r){return $(e,M(v[p.SI],v[r]))}function O(e,r){return $(e,M(v[r],v[p.SI],!1))}var w=[E],F=((l={})[p.SI]=[],l[p.RO]=[B,E],l[p.CYRL]=[B,E],l),H=[function(e,r){return $(e,M(v[r],v[p.SI]))}],x=((c={})[p.SI]=[],c[p.RO]=[O,function(e){return e.replace(/·πÅ/g,"‡∂Ç")},R],c[p.CYRL]=[O,R],c),j=function(){function e(){!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e)}var r,n;return r=e,n=[{key:"basicConvertFromSinh",value:function(e,r){var n=e;return(F[r]||w).forEach((function(e){n=e(n,r)})),n}},{key:"basicConvertToSinh",value:function(e,r){var n=e;return(x[r]||H).forEach((function(e){n=e(n,r)})),n}},{key:"beautify",value:function(e,r,n){void 0===n&&(n="");var a=e;return(I[r]||b).forEach((function(e){a=e(a,r,n)})),a}},{key:"convertFromSinh",value:function(e,r){var n=e;return n=this.basicConvertFromSinh(n,r),this.beautify(n,r)}},{key:"convertToSinh",value:function(e,r){var n=e;return(N[r]||L).forEach((function(e){n=e(n,r)})),this.basicConvertToSinh(n,r)}},{key:"convertAnyToSinh",value:function(e){var r=e;r=T(r)+" ";for(var n=-1,a="",t="",o=0;o<r.length;o+=1){var l=h(r.charCodeAt(o));l!==n||o===r.length-1?(t+=this.convertToSinh(a,n),n=l,a=r.charAt(o)):a+=r.charAt(o)}return t}}],null&&u(r.prototype,null),n&&u(r,n),e}();const k={Script:p,TextProcessor:j,getScriptForCode:h,PaliScriptInfo:f,ScriptIndex:v,convert:function(e,r,n){var a=j.convertToSinh(e,r);return j.convertFromSinh(a,n)},convertAny:function(e,r){var n=j.convertAnyToSinh(e);return j.convertFromSinh(n,r)},getLocaleForScript:function(e){var r;return null==(r=f.get(e))?void 0:r[3].locale},getLocaleNameForScript:function(e){var r;return null==(r=f.get(e))?void 0:r[3].localeName},getSupportedLocales:function(){var e=Object.getOwnPropertyNames(p).map((function(e){var r;return null==(r=f.get(p[e]))?void 0:r[3]}));return new Set(e.map((function(e){return e.locale})))}}}},r={};function n(a){if(r[a])return r[a].exports;var t=r[a]={exports:{}};return e[a](t,t.exports,n),t.exports}return n.d=(e,r)=>{for(var a in r)n.o(r,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:r[a]})},n.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),n(384)})().default})();



const SKEY = "PSC13Mar22"
let usedPaliScript = localStorage.getItem(SKEY)
let currentPaliScript = usedPaliScript ? usedPaliScript : "my"

window.onload = runOnStartUpLoaded

function convertMixScript(mixText, toScript) {
  const sinh = CVT.TextProcessor.convertAnyToSinh(mixText)
  return CVT.TextProcessor.convertFromSinh(sinh, CVT.Script[toScript.toLocaleUpperCase()])
}

function runOnStartUpLoaded() {
  buildPaliScriptMenu()
  loadSavedPaliScript("uSelectScript")

  document.getElementById("uType").addEventListener("input", uTyping, { passive: false })
  document.getElementById("clearText").addEventListener("click", clearTextArea, { passive: false })
  document.getElementById("copyButtonID").addEventListener("click", copyButton, { passive: false })
  document.getElementById("changeM").addEventListener("click", changeM, { passive: false })
  document.getElementById("aboveM").addEventListener("click", aboveM, { passive: false })
  document.getElementById("uType").focus()
}

const scriptFonts = {
  si: ["UN-Abhaya", "", ""],
  my: ["Pyidaungsu", "", ""],
  hi: ["Noto Sans Devanagari", "", ""],
  ro: ["Noto Sans", "", ""],
  thai: ["TH Sarabun New", "2rem", ""],
  laos: ["Noto Sans Lao", "", ""],
  km: ["Noto Sans Khmer", "", ""],
  beng: ["Noto Sans Bengali", "", ""],
  gurm: ["Noto Sans Gurmukhi", "", ""],
  guja: ["Noto Sans Gujarati", "", ""],
  telu: ["Noto Sans Telugu", "", ""],
  kann: ["Noto Sans Kannada", "", ""],
  mala: ["Noto Sans Malayalam", "", ""],
  tham: ["Noto Sans Tai Tham", "", ""],
  // does not have a bold variant font
  brah: ["Noto Sans Brahmi", "", ""],
  tibt: ["Noto Serif Tibetan", "", ""],
  cyrl: ["Noto Sans", "", ""],
}

function loadFonts(paliScript) {
  const P = scriptFonts[paliScript]
  const fontFamily = P[0]
  const style = document.createElement("style")

  let textContent = `
    @font-face {
    font-family: "${fontFamily}";
    src: local("${fontFamily}"),
    url("web/fonts/pali/${fontFamily.replace(/\s+/g, "_")}/static/${fontFamily.replace(/\s+/g, "")}-Regular.ttf") format("truetype");
    font-weight: normal;
    font-display: swap;
    }
    @font-face {
    font-family: ${fontFamily};
    src: local("${fontFamily}"),
    url("web/fonts/pali/${fontFamily.replace(/\s+/g, "_")}/static/${fontFamily.replace(/\s+/g, "")}-Bold.ttf") format("truetype");
    font-weight: bold;
    font-display: swap;
    }
    `

  if ("Brah" == paliScript) {
    //// brah has no bold font
    console.log("I can not find bold font for the brah script")

    textContent = `
      @font-face {
      font-family: "${fontFamily}";
      src: local("${fontFamily}"),
      url("web/fonts/pali/${fontFamily.replace(/\s+/g, "_")}/static/${fontFamily.replace(/\s+/g, "")}-Regular.ttf") format("truetype");
      font-weight: normal;
      font-display: swap;
      }
      `
  }
  let bodyCss = ` body { font-family: "${fontFamily}" ;}`

  style.textContent = textContent + bodyCss
  document.head.appendChild(style)
}

function buildPaliScriptMenu() {
  let html = `
<label for="uSelectScript">Convert To PƒÅ·∏∑i Script</label>
<select id="uSelectScript" name="uSelectScript" style="font-family: 'Noto Sans', sans-serif;">
<option disabled value="" style="font-family: 'Noto Sans', sans-serif;">--Please choose an option--</option>`

  Object.entries(CVT.Script).forEach(([key, value]) => {
    const s = CVT.PaliScriptInfo.get(value)
    const scriptCode = key.toLocaleLowerCase()
    html += `<option value="${scriptCode}" ${scriptCode == currentPaliScript ? "selected" : ""} >${s[0]} - ${s[1]}</option>`
  })

  html += "</select>"
  document.getElementById("buildPaliScriptMenu").innerHTML = html
  listen_UserSelectScript("uSelectScript")
  loadFonts(currentPaliScript)
}

function listen_UserSelectScript(id) {
  document.getElementById(id).addEventListener("change", saveUserScript, { passive: false })
}

function saveUserScript() {
  let select = document.getElementById("uSelectScript")
  let svalue = select.options[select.selectedIndex].value
  svalue = svalue ? svalue : "ro"
  currentPaliScript = svalue

  localStorage.setItem(SKEY, svalue)
  loadFonts(svalue)
  // update converted script
  uTyping()
}

function loadSavedPaliScript(id) {
  try {
    let ele = document.getElementById(id)
    ele.value = currentPaliScript
  } catch (e) {
    console.log(`${e} \n\nError when loading last used pali script.
Is this id ${id} changed in the UI?
It is now removing the mising key and reloading.`)
    localStorage.remove(SKEY)
    window.location.reload(true)
  }
}

function uTyping() {
  let t = document.getElementById("uType")
  let res = document.getElementById("convertedArea")
  let vel = typeVelthuis(t.value)
  t.value = vel
  // res.value = convertMixScript(vel, currentPaliScript)
  toChangeM = convertMixScript(vel, currentPaliScript)
  res.value = toChangeM.replace(/·πÉ/g, "·πÅ")  // ensure using the correct '·πÉ' character
}

function changeM() {
  let t = document.getElementById("uType")
  let res = document.getElementById("convertedArea")
  let vel = typeVelthuis(t.value)
  t.value = vel
  res.value = convertMixScript(vel, currentPaliScript)  
}

function aboveM() {
  let t = document.getElementById("uType")
  let res = document.getElementById("convertedArea")
  let vel = typeVelthuis(t.value)
  t.value = vel
  toChangeM = convertMixScript(vel, currentPaliScript)
  res.value = toChangeM.replace(/·πÉ/g, "·πÅ") 
}

function clearTextArea() {
  document.getElementById("uType").value = ""
  document.getElementById("convertedArea").value = ""
  document.getElementById("uType").focus()
}

function copyButton() {
  let el = document.getElementById("convertedArea")
  let tex = el.value
  el.focus()
  el.setSelectionRange(0, tex.length)

  // Get status element and icon element
  let statusEl = document.getElementById("copyStatus")
  let iconEl = document.getElementById("copyIcon")

  // Use the contextBridge to access Electron functionality
  if (window.electronAPI && window.electronAPI.copyToClipboard) {
    window.electronAPI.copyToClipboard(tex, (error) => {
      if (error) {
        updateCopyStatus("Failed to copy: " + error, "error")
      } else {
        updateCopyStatus("Copied to clipboard!", "success")
      }
    })
  } else {
    // Fallback to execCommand for browsers that support it
    try {
      var successful = document.execCommand("copy")
      if (successful) {
        updateCopyStatus("Copied to clipboard!", "success")
      } else {
        throw new Error("execCommand('copy') was unsuccessful")
      }
    } catch (err) {
      updateCopyStatus("Failed to copy: " + err, "error")
    }
  }

  // Reset status after 3 seconds
  setTimeout(() => {
    updateCopyStatus("", "")
  }, 3000)
}

function updateCopyStatus(message, status) {
  let statusEl = document.getElementById("copyStatus")
  let iconEl = document.getElementById("copyIcon")

  statusEl.textContent = message

  if (status === "success") {
    statusEl.style.color = "white"
    iconEl.textContent = "‚úÖ" // Checkmark emoji
  } else if (status === "error") {
    statusEl.style.color = "red"
    iconEl.textContent = "‚ùå" // Cross mark emoji
  } else {
    statusEl.style.color = ""
    iconEl.textContent = "üìã" // Clipboard emoji
  }
}

function typeVelthuis(uType) {
  /* 2017, updated 20 Dec 2020 */
  return uType
    .replace(/aa/g, "ƒÅ")
    .replace(/ii/g, "ƒ´")
    .replace(/uu/g, "≈´")
    .replace(/m\.\./g, "·πÅ")
    .replace(/\.m/g, "·πÉ")
    .replace(/\.n/g, "·πá")
    .replace(/\.d/g, "·∏ç")
    .replace(/\.l/g, "·∏∑")
    .replace(/\.r/g, "·πõ")
    .replace(/\.s/g, "·π£")
    .replace(/s\.\./g, "≈õ")
    .replace(/\.t/g, "·π≠")
    .replace(/,,n/g, "√±")
    .replace(/n\.\./g, "·πÖ")
    .replace(/AA/g, "ƒÄ")
    .replace(/II/g, "ƒ™")
    .replace(/UU/g, "≈™")
    .replace(/M\.\./g, "·πÄ")
    .replace(/\.M/g, "·πÇ")
    .replace(/\.N/g, "·πÜ")
    .replace(/\.D/g, "·∏å")
    .replace(/\.L/g, "·∏∂")
    .replace(/\.R/g, "·πö")
    .replace(/\.S/g, "·π¢")
    .replace(/S\.\./g, "≈ö")
    .replace(/\.T/g, "·π¨")
    .replace(/,,N/g, "√ë")
    .replace(/N\.\./g, "·πÑ")
}

function linkGoback() {
  let e = localStorage.getItem("tipitakapali_org_CURRENT_BOOK_KEY") || "https://tipitakapali.org"
  window.location.assign(e)
}

  </script>

</body>

</html>